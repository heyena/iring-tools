<?xml version="1.0"?>
<configuration>
    <configSections>
        <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    </configSections>

    <!--Service Setting Defaults
    <add key="BaseDirectoryPath" value="AppDomain.CurrentDomain.BaseDirectory"/> 
    <add key="AppDataPath" value=".\App_Data\"/>
    <add key="ProxyCredentialToken" vC:\iring-tools\adapter\iRINGTools.Services\Web.configalue=""/>
    <add key="ProxyHost" value=""/>
    <add key="ProxyPort" value=""/>
    <add key="IgnoreSslErrors" value="False"/>
  -->

    <!--Reference Data Setting Defaults
    <add key="SparqlPath" value=".\SPARQL\"/>
    <add key="PageSize" value="100"/>
    <add key="ClassRegistryBase" value="http://rdl.rdlfacade.org/data#"/>
    <add key="TemplateRegistryBase" value="http://tpl.rdlfacade.org/data#"/>
    <add key="ExampleRegistryBase" value="http://example.org/data#"/>
    <add key="UseExampleRegistryBase" value="False"/>
    <add key="RegistryCredentialToken" value=""/>-->

    <!--NHibernate Setting Defaults
    <add key="ExecutingAssemblyName" value="App_Code"/>
    <add key="BinaryPath" value=".\Bin\"/>
    <add key="CodePath" value=".\App_Code\"/>
    <add key="InternalPageSize" value="1000"/>-->

    <!--Adapter Setting Defaults
    <add key="InterfaceService" value="http://localhost/services/facade/query"/>
    <add key="ReferenceDataServiceUri value="http://localhost/services/refdata"/>
    <add key="DefaultProjectionFormat" value="xml"/>
    <add key="EndpointTimeout value="30000"/>
    <add key="dotNetRDFServer" value=".\SQLEXPRESS"/>
    <add key="dotNetRDFCatalog" value="InterfaceDb"/>
    <add key="dotNetRDFUser" value="dotNetRDF"/>
    <add key="dotNetRDFPassword" value="dotNetRDF"/>
    <add key="TrimData" value="False"/>   
    <add key="DumpSettings" value="False"/>   
    <add key="ExecutingAssemblyName" value="App_Code"/>
    <add key="DefaultPageSize" value="25"/>-->

    <appSettings>
        <add key="iRINGCacheConnStr" value="Data Source=localhost\SQLEXPRESS;Initial Catalog=iRINGCache;User ID=iRINGCache;Password=iRINGCache"/>
        <add key="dotNetRDFConfig" value="~/App_Data/config.ttl" />
        <add key="DisplayLinks" value="True"/>


        <add key="ProxyCredentialToken" value="g6Necz6zfhsB9VTj2IXftJQHomkYdEIZt4QQ2d2A0ZVoQO5OJVtXwz6v/hSb+vVdj+FCUYqE6sO97cHRYia5kg==" />
        <add key="ProxyHost" value="ASHSPROXY.amers.ibechtel.com" />
        <add key="ProxyPort" value="8080" />


        <!--<add key="AccessToken" value="80o3t5A32vVcMeXKrSSyhJvn4RgF"/>
    <add key="AppKey" value="f59ae57630ed4989170dc84c2d2ebab0"/>
    <add key="AppKey" value="dddee3dd38c8dffef0c6c70ca8451daf"/>-->

        <add key="AllowImpersonation" value="True"/>
        <add key="ImpersonatedUser" value="vknayak"/>
        <add key="ImpersonatedUserDomain" value="iamers"/>

        <!--<add key="MultiGetDTIs" value="False"/>
    <add key="MultiGetDTOs" value="False"/>
    <add key="MultiPostDTOs" value="False"/>
    <add key="MaxThreads" value="5" />-->
    </appSettings>

    <log4net>
        <appender name="ServiceLog" type="log4net.Appender.RollingFileAppender">
            <file value="./Logs/Services.log" />
            <appendToFile value="true" />
            <maximumFileSize value="500KB" />
            <maxSizeRollBackups value="10" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
            </layout>
        </appender>

        <appender name="InspecLog" type="log4net.Appender.RollingFileAppender">
            <file value="./Logs/Inspec.log" />
            <appendToFile value="true" />
            <maximumFileSize value="500KB" />
            <maxSizeRollBackups value="10" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
            </layout>
        </appender>

        <appender name="TeamWorksLog" type="log4net.Appender.RollingFileAppender">
            <file value="./Logs/TeamWorks.log" />
            <appendToFile value="true" />
            <maximumFileSize value="500KB" />
            <maxSizeRollBackups value="10" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
            </layout>
        </appender>

        <appender name="IWLog" type="log4net.Appender.RollingFileAppender">
            <file value="./Logs/IW.log" />
            <appendToFile value="true" />
            <maximumFileSize value="500KB" />
            <maxSizeRollBackups value="10" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
            </layout>
        </appender>
        <!--Log Levels include:
		0 FATAL
		1 ERROR
		2 WARN
		3 INFO
		4 DEBUG
		Messages from lower levels are included.  DEBUG will give you everything!
	-->
        <logger name="org.iringtools">
            <level value="DEBUG" />
            <appender-ref ref="ServiceLog" />
        </logger>
        <logger name="NHibernate.SQL">
            <level value="DEBUG" />
            <appender-ref ref="ServiceLog" />
        </logger>
        <logger name="bechtel.tw">
            <level value="DEBUG" />
            <appender-ref ref="ServiceLog" />
        </logger>
        <logger name="Bechtel.Inspec">
            <level value="DEBUG" />
            <appender-ref ref="ServiceLog" />
        </logger>
        <logger name="Bechtel.SETROUTE">
            <level value="DEBUG" />
            <appender-ref ref="ServiceLog" />
        </logger>
        <logger name="bechtel.ipix.datalayers.infoworks">
            <level value="DEBUG" />
            <appender-ref ref="IWLog" />
        </logger>
    </log4net>

    <system.web>
        <compilation debug="true" targetFramework="4.0" />
        <httpHandlers>
            <add path="facade/*" verb="*" type="VDS.RDF.Web.SparqlServer" />
            <add path="sandbox/*" verb="*" type="VDS.RDF.Web.SparqlServer" />
        </httpHandlers>
        <!-- maxRequestLength in KB -->
        <httpRuntime maxRequestLength="1048576" requestValidationMode="2.0" />
        <pages validateRequest="false"/>
    </system.web>

    <system.webServer>
        <security>
            <requestFiltering>
                <requestLimits maxQueryString="16384" />
            </requestFiltering>
        </security>
        <handlers>
            <add name="/facade/*" path="facade/*" verb="*" type="VDS.RDF.Web.SparqlServer" />
            <!--<add name="/sandbox/*" path="sandbox/*" verb="*" type="VDS.RDF.Web.SparqlServer" />-->
            <add name="/sparql" verb="*" path="/sparql" type="VDS.RDF.Web.QueryHandler" />
        </handlers>
        <modules runAllManagedModulesForAllRequests="true">
            <add name="UrlRoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
        </modules>
        <validation validateIntegratedModeConfiguration="false" />
    </system.webServer>

    <system.serviceModel>
        <serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" />
        <bindings>
            <webHttpBinding>
                <!-- maxReceivedMessageSize in bytes -->
                <binding maxReceivedMessageSize="2147483647"/>
            </webHttpBinding>
        </bindings>
        <standardEndpoints>
            <webHttpEndpoint>
                <standardEndpoint name="" helpEnabled="true"/>
            </webHttpEndpoint>
        </standardEndpoints>
    </system.serviceModel>

</configuration>
