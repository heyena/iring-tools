/*
 * File: Scripts/AM/view/directory/DownloadGrid.js
 *
 * This file was generated by Sencha Architect version 2.2.2.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('AM.view.directory.DownloadGrid', {
  extend: 'Ext.grid.Panel',
  alias: 'widget.downloadgrid',

  store: 'FileDownloadStore',

  initComponent: function() {
    var me = this;

    Ext.applyIf(me, {
      columns: [
        {
          xtype: 'gridcolumn',
          dataIndex: 'File',
          text: 'File',
          flex: 1
        },
        {
          xtype: 'gridcolumn',
          renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
            if(record.data.File!='No Record found to download'){
              var scope;
              var application ;
              var text = 'Download';
              if(this.up().items!=undefined){
                scope = this.up().items.map['scopeId'].value;
                application =this.up().items.map['applicationId'].value; 
              }
              return '<a style="color: #0276FD" href="./File/Export?scope=' + scope + '&application=' + application + '&file=' + record.data.File + ' "target="_blank">' + text + '</a>';
            }

          },
          width: 70,
          dataIndex: 'Download',
          menuDisabled: true
        }
      ]
    });

    me.callParent(arguments);
  }

});