<?xml version="1.0" encoding="UTF-8"?>
<localEntry xmlns="http://ws.apache.org/ns/synapse" key="dxiSplit">
	<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
		xmlns:fn="http://www.w3.org/2005/02/xpath-functions" xmlns:dti="http://www.iringtools.org/dxfr/dti"
		version="2.0" exclude-result-prefixes="fn dti">
		<xsl:output method="xml" omit-xml-declaration="yes" indent="no" />

		<xsl:template match="/">
			<dxi xmlns="http://www.iringtools.org/dxfr/dti">
				<source>
					<dataTransferIndices>
						<dataTransferIndexList>
							<xsl:for-each
								select="/dti:dataTransferIndices/dti:dataTransferIndexList/dti:dataTransferIndex[dti:transferType != 'Delete']">
								<xsl:copy-of select="." />
							</xsl:for-each>
						</dataTransferIndexList>
					</dataTransferIndices>
				</source>
				<target>
					<dataTransferIndices>
						<dataTransferIndexList>
							<xsl:for-each
								select="/dti:dataTransferIndices/dti:dataTransferIndexList/dti:dataTransferIndex[dti:transferType = 'Change'] |                      /dti:dataTransferIndices/dti:dataTransferIndexList/dti:dataTransferIndex[dti:transferType = 'Delete']">
								<xsl:copy-of select="." />
							</xsl:for-each>
						</dataTransferIndexList>
					</dataTransferIndices>
				</target>
			</dxi>
		</xsl:template>
	</xsl:stylesheet>
</localEntry>
